<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relationship Compatibility Quiz</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5f5f5;
            --text-color: #333;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            color: var(--text-color);
        }

        .quiz-container {
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .section-header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            margin: 30px 0 20px 0;
            border-radius: 5px;
            text-align: center;
        }

        .section {
            margin-bottom: 30px;
            display: none;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .section.active {
            display: block;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
        }

        .options {
            margin-top: 10px;
        }

        .option {
            display: block;
            margin: 10px 0;
        }

        .person-select {
            margin-bottom: 20px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }

        button:hover {
            opacity: 0.9;
        }

        .results {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
        }

        .compatibility-score {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .disclaimer {
            font-style: italic;
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3cd;
            border-left: 4px solid #ffeeba;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Relationship Compatibility Quiz</h1>
        
        <div class="person-select">
            <h3>Welcome to the Relationship Compatibility Assessment</h3>
            <p>This comprehensive quiz evaluates both lifestyle and financial compatibility between partners. Please have both partners complete the assessment separately.</p>
            <button id="startPerson1">Start Quiz for Person 1</button>
            <button id="startPerson2">Start Quiz for Person 2</button>
        </div>

        <div class="progress-bar">
            <div class="progress" style="width: 0%"></div>
        </div>

        <div id="quiz" style="display: none;">
            <h3 class="section-header">Lifestyle Assessment</h3>
            <div class="section" id="section-a">
                <h2>A. Dietary Preferences and Habits</h2>
            </div>

            <div class="section" id="section-b">
                <h2>B. Dietary Components and Timing</h2>
            </div>

            <div class="section" id="section-c">
                <h2>C. Eating Patterns</h2>
            </div>

            <div class="section" id="section-d">
                <h2>D. Lifestyle Habits</h2>
            </div>

            <h3 class="section-header">Financial Assessment</h3>
            <div class="section" id="section-e">
                <h2>E. Financial Responsibility and Planning</h2>
            </div>

            <div class="section" id="section-f">
                <h2>F. Financial Values and Beliefs</h2>
            </div>

            <div class="section" id="section-g">
                <h2>G. Financial Ethics and Boundaries</h2>
            </div>

            <div class="section" id="section-h">
                <h2>H. Financial Habits and Preferences</h2>
            </div>

            <div class="section" id="section-i">
                <h2>I. Financial Boundaries in Relationships</h2>
            </div>

            <button id="prevBtn" style="display: none;">Previous</button>
            <button id="nextBtn">Next</button>
        </div>

        <div class="results" id="results">
            <h2>Compatibility Results</h2>
            <div class="compatibility-score"></div>
            <div class="section-scores"></div>
            <div class="compatibility-analysis"></div>
            <div class="disclaimer">
                <p><strong>Disclaimer:</strong> While this quiz provides insights into compatibility based on lifestyle habits and preferences, it's important to remember that neither ignore nor obsess over these parameters. Love is still the only force that can drive two true individuals to work towards fulfillment together. Use these results as a guide for discussion and understanding, not as absolute determinants of relationship success.</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize variables
        let currentPerson = null;
        let currentSection = 'section-a';
        let answers = {
            person1: {},
            person2: {}
        };
        
        const sections = ['section-a', 'section-b', 'section-c', 'section-d', 'section-e', 'section-f', 'section-g', 'section-h', 'section-i'];

        // Quiz data
        const quizData = {
            // ... (previous quiz data remains the same)
        };

        // Core functions
        function startQuiz(person) {
            currentPerson = person;
            document.querySelector('.person-select').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            showSection(currentSection);
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // Clear existing questions
            document.getElementById(sectionId).innerHTML = `<h2>${quizData[sectionId].title}</h2>`;
            
            // Add questions
            quizData[sectionId].questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div>${index + 1}. ${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, i) => `
                            <label class="option">
                                <input type="radio" name="${sectionId}-${index}" value="${i}" 
                                    ${answers[currentPerson][`${sectionId}-${index}`] === i ? 'checked' : ''}>
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                document.getElementById(sectionId).appendChild(questionDiv);
            });

            document.getElementById('prevBtn').style.display = sectionId === 'section-a' ? 'none' : 'inline';
            document.getElementById('nextBtn').innerText = sectionId === 'section-i' ? 'Submit' : 'Next';
            
            const progressPercent = ((sections.indexOf(sectionId) + 1) / sections.length) * 100;
            document.querySelector('.progress').style.width = `${progressPercent}%`;
        }

        function saveCurrentSectionAnswers() {
            const currentSectionElement = document.querySelector('.section.active');
            const inputs = currentSectionElement.querySelectorAll('input[type="radio"]:checked');
            inputs.forEach(input => {
                const name = input.name;
                const value = parseInt(input.value);
                answers[currentPerson][name] = value;
            });
        }

        function previousSection() {
            saveCurrentSectionAnswers();
            const currentIndex = sections.indexOf(currentSection);
            if (currentIndex > 0) {
                currentSection = sections[currentIndex - 1];
                showSection(currentSection);
            }
        }

        function nextSection() {
            saveCurrentSectionAnswers();
            const currentIndex = sections.indexOf(currentSection);
            
            if (currentSection === 'section-i') {
                if (currentPerson === 'person1') {
                    currentPerson = 'person2';
                    currentSection = 'section-a';
                    document.querySelector('.person-select').style.display = 'block';
                    document.getElementById('quiz').style.display = 'none';
                } else {
                    calculateResults();
                }
            } else {
                currentSection = sections[currentIndex + 1];
                showSection(currentSection);
            }
        }

        // Add event listeners
        document.getElementById('startPerson1').addEventListener('click', () => startQuiz('person1'));
        document.getElementById('startPerson2').addEventListener('click', () => startQuiz('person2'));
        document.getElementById('prevBtn').addEventListener('click', previousSection);
        document.getElementById('nextBtn').addEventListener('click', nextSection);

        // ... (rest of the functions remain the same)
    </script>
</body>
</html>
