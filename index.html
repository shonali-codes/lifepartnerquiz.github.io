<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relationship Compatibility Quiz</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5f5f5;
            --text-color: #333;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            color: var(--text-color);
        }

        .quiz-container {
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: block;
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .section {
            margin-bottom: 30px;
            display: none;
        }

        .section.active {
            display: block;
        }

        .question {
            margin-bottom: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
        }

        .options {
            margin-top: 10px;
        }

        .option {
            display: block;
            margin: 10px 0;
            cursor: pointer;
        }

        .option input[type="checkbox"] {
            margin-right: 10px;
        }

        .person-select {
            margin-bottom: 20px;
            display: block;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }

        button:hover {
            opacity: 0.9;
        }

        .results {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
        }

        .compatibility-score {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .disclaimer {
            font-style: italic;
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3cd;
            border-left: 4px solid #ffeeba;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Relationship Compatibility Quiz</h1>
        
        <div class="person-select">
            <button onclick="startQuiz('person1')">Start Quiz for Person 1</button>
            <button onclick="startQuiz('person2')">Start Quiz for Person 2</button>
        </div>

        <div id="quiz" style="display: none;">
            <div class="section" id="section-a"></div>
            <div class="section" id="section-b"></div>
            <div class="section" id="section-c"></div>
            <div class="section" id="section-d"></div>
            <button onclick="previousSection()" id="prevBtn" style="display: none;">Previous</button>
            <button onclick="nextSection()" id="nextBtn">Next</button>
        </div>

        <div class="results" id="results">
            <h2>Compatibility Results</h2>
            <div class="compatibility-score"></div>
            <div class="section-scores"></div>
            <div class="compatibility-analysis"></div>
            <div class="disclaimer">
                <p><strong>Disclaimer:</strong> This quiz provides insights into compatibility based on lifestyle habits and preferences. Use these results as a guide for discussion and understanding, not as absolute determinants of relationship success.</p>
            </div>
        </div>
    </div>

    <script>
        const quizData = {
            "section-a": {
                title: "Dietary Preferences and Habits",
                questions: [
                    {
                        question: "What types of foods do you primarily prefer?",
                        options: [
                            "Warm and grounding foods (soups, stews)",
                            "Cooling foods (cucumbers, melons, dairy)",
                            "Light and spicy foods (lentils, leafy greens)",
                            "No specific preference",
                            "Combination of above"
                        ]
                    },
                    {
                        question: "How often do you consume seasonal fruits and vegetables?",
                        options: [
                            "Daily",
                            "3-4 times a week",
                            "1-2 times a week",
                            "Rarely",
                            "Never"
                        ]
                    },
                    {
                        question: "What is your preferred food freshness level?",
                        options: [
                            "Must be freshly cooked always",
                            "Prefer fresh but can have day-old food",
                            "Don't mind leftover/stored food",
                            "No preference"
                        ]
                    },
                    {
                        question: "What is your eating environment preference?",
                        options: [
                            "Complete silence",
                            "Quiet conversation",
                            "With TV/entertainment",
                            "While working",
                            "No specific preference"
                        ]
                    },
                    {
                        question: "How would you describe your eating pace?",
                        options: [
                            "Very slow, thoroughly chew each bite",
                            "Moderate pace",
                            "Quick eater",
                            "Varies depending on situation"
                        ]
                    },
                    {
                        question: "Do you practice gratitude before meals?",
                        options: [
                            "Always",
                            "Sometimes",
                            "Rarely",
                            "Never",
                            "Only on special occasions"
                        ]
                    },
                    {
                        question: "What is your dominant taste preference?",
                        options: [
                            "Sweet",
                            "Sour",
                            "Salty",
                            "Bitter",
                            "Pungent",
                            "Astringent",
                            "Balanced mix of all"
                        ]
                    }
                ]
            },
            "section-b": {
                title: "Dietary Components and Timing",
                questions: [
                    {
                        question: "How do you include ghee/oil in your diet?",
                        options: [
                            "Daily in moderate amounts",
                            "In abundance",
                            "Minimal usage",
                            "Avoid completely"
                        ]
                    },
                    {
                        question: "What are your water consumption habits?",
                        options: [
                            "Regular throughout the day (8+ glasses)",
                            "Moderate (4-7 glasses)",
                            "Only when thirsty",
                            "Less than 4 glasses daily"
                        ]
                    },
                    {
                        question: "What is your approach to fasting?",
                        options: [
                            "Regular planned fasting",
                            "Occasional fasting",
                            "Only religious/cultural fasting",
                            "Never fast",
                            "Dislike fasting"
                        ]
                    },
                    {
                        question: "How aligned are your meal timings with the sun cycle?",
                        options: [
                            "Perfectly aligned (early breakfast, lunch, dinner)",
                            "Mostly aligned with some variations",
                            "Somewhat irregular",
                            "Completely irregular",
                            "Night-shifted schedule"
                        ]
                    }
                ]
            },
            "section-c": {
                title: "Eating Patterns",
                questions: [
                    {
                        question: "How often do you skip meals?",
                        options: [
                            "Never",
                            "Rarely (1-2 times/month)",
                            "Sometimes (1-2 times/week)",
                            "Often (3+ times/week)",
                            "Regularly"
                        ]
                    },
                    {
                        question: "How would you describe your portion control?",
                        options: [
                            "Excellent (never overeat)",
                            "Good (rarely overeat)",
                            "Moderate (occasionally overeat)",
                            "Poor (frequently overeat)",
                            "No conscious control"
                        ]
                    },
                    {
                        question: "How often do you consume fermented foods (dosa, idli, curd, pickles)?",
                        options: [
                            "Daily",
                            "3-4 times a week",
                            "1-2 times a week",
                            "Rarely",
                            "Never"
                        ]
                    }
                ]
            },
            "section-d": {
                title: "Lifestyle Habits",
                questions: [
                    {
                        question: "What is your sleep pattern?",
                        options: [
                            "Early riser (before 6 AM)",
                            "Moderate early (6-7 AM)",
                            "Regular (7-8 AM)",
                            "Late riser (after 8 AM)",
                            "Irregular pattern"
                        ]
                    },
                    {
                        question: "How would you describe your exercise routine?",
                        options: [
                            "Daily structured exercise",
                            "3-4 times/week",
                            "1-2 times/week",
                            "Occasional",
                            "No regular exercise"
                        ]
                    },
                    {
                        question: "What describes your alcohol/drug/cigarette consumption?",
                        options: [
                            "Never",
                            "Rarely (special occasions only)",
                            "Sometimes (1-2 times/month)",
                            "Often (weekly)",
                            "Daily"
                        ]
                    },
                    {
                        question: "How often do you consume adult content?",
                        options: [
                            "Never",
                            "Rarely",
                            "Sometimes",
                            "Often",
                            "Daily"
                        ]
                    },
                    {
                        question: "How often do you eat out?",
                        options: [
                            "Rarely (once a month or less)",
                            "Sometimes (2-3 times/month)",
                            "Weekly (1-2 times)",
                            "Often (3-4 times/week)",
                            "Daily"
                        ]
                    },
                    {
                        question: "How regularly do you get health checkups?",
                        options: [
                            "Annual comprehensive checkup",
                            "Every 2-3 years",
                            "Only when needed",
                            "Rarely",
                            "Never"
                        ]
                    },
                    {
                        question: "How many hours of sleep do you typically get per night?",
                        options: [
                            "Less than 5 hours",
                            "5-6 hours",
                            "6-7 hours",
                            "7-8 hours",
                            "More than 8 hours"
                        ]
                    },
                    {
                        question: "How often do you meditate?",
                        options: [
                            "Regularly (daily)",
                            "Often (3-4 times per week)",
                            "Sometimes (1-2 times per week)",
                            "Rarely (few times a month)",
                            "Never"
                        ]
                    },
                    {
                        question: "How do you handle health issues?",
                        options: [
                            "Proactive about health",
                            "Addresses issues when serious",
                            "Tends to ignore health issues",
                            "Anxious about health",
                            "Unable to observe"
                        ]
                    }
                ]
            }
        };

        let currentPerson = '';
        let currentSection = 'section-a';
        let answers = {
            person1: {},
            person2: {}
        };

        function startQuiz(person) {
            currentPerson = person;
            document.querySelector('.person-select').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            showSection(currentSection);
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            document.getElementById(sectionId).innerHTML = `<h2>${quizData[sectionId].title}</h2>`;
            
            quizData[sectionId].questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div>${index + 1}. ${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, i) => `
                            <label class="option">
                                <input type="checkbox" name="${sectionId}-${index}" value="${i}" 
                                    ${(answers[currentPerson][`${sectionId}-${index}`] || []).includes(i) ? 'checked' : ''}>
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                document.getElementById(sectionId).appendChild(questionDiv);
            });

            document.getElementById('prevBtn').style.display = sectionId === 'section-a' ? 'none' : 'inline';
            document.getElementById('nextBtn').innerText = sectionId === 'section-d' ? 'Submit' : 'Next';
        }

        function saveCurrentSectionAnswers() {
            const currentSectionElement = document.querySelector('.section.active');
            const questions = currentSectionElement.querySelectorAll('.question');
            
            questions.forEach((question, questionIndex) => {
                const checkedBoxes = Array.from(question.querySelectorAll('input[type="checkbox"]:checked'));
                const values = checkedBoxes.map(input => parseInt(input.value));
                const name = checkedBoxes[0]?.name;
                if (name) {
                    answers[currentPerson][name] = values;
                }
            });
        }

        function previousSection() {
            saveCurrentSectionAnswers();
            const sections = ['section-a', 'section-b', 'section-c', 'section-d'];
            const currentIndex = sections.indexOf(currentSection);
            if (currentIndex > 0) {
                currentSection = sections[currentIndex - 1];
                showSection(currentSection);
            }
        }

        function nextSection() {
            saveCurrentSectionAnswers();
            const sections = ['section-a', 'section-b', 'section-c', 'section-d'];
            const currentIndex = sections.indexOf(currentSection);
            
            if (currentSection === 'section-d') {
                if (currentPerson === 'person1') {
                    currentPerson = 'person2';
                    currentSection = 'section-a';
                    document.querySelector('.person-select').style.display = 'block';
                    document.getElementById('quiz').style.display = 'none';
                } else {
                    calculateResults();
                }
            } else {
                currentSection = sections[currentIndex + 1];
                showSection(currentSection);
            }
        }

        function calculateResults() {
            document.getElementById('quiz').style.display = 'none';
            const results = document.getElementById('results');
            results.style.display = 'block';

            const pointValues = {
                'section-a': {
                    0: [3, 2, 2, 1, 2],      // Food preferences
                    1: [3, 2, 2, 1, 1],      // Seasonal fruits/vegetables
                    2: [3, 2, 1, 1],         // Food freshness
                    3: [3, 2, 1, 1, 2],      // Eating environment
                    4: [3, 2, 1, 2],         // Eating pace
                    5: [3, 2, 1, 1, 2],      // Gratitude practice
                    6: [2, 2, 1, 2, 1, 1, 3] // Taste preference
                },
                'section-b': {
                    0: [3, 1, 2, 1],         // Ghee/oil consumption
                    1: [3, 2, 1, 1],         // Water consumption
                    2: [3, 2, 2, 1, 1],      // Fasting approach
                    3: [3, 2, 2, 1, 1]       // Meal timing
                },
                'section-c': {
                    0: [3, 2, 2, 1, 1],      // Meal skipping
                    1: [3, 2, 2, 1, 1],      // Portion control
                    2: [3, 2, 2, 1, 1]       // Fermented foods
                },
                'section-d': {
                    0: [3, 2, 2, 1, 1],      // Sleep pattern
                    1: [3, 2, 2, 1, 1],      // Exercise
                    2: [3, 2, 1, 1, 1],      // Substance use
                    3: [3, 2, 1, 1, 1],      // Adult content
                    4: [3, 2, 2, 1, 1],      // Eating out
                    5: [3, 2, 2, 1, 1],      // Health checkups
                    6: [1, 2, 2, 3, 2],      // Sleep duration
                    7: [3, 2, 2, 1, 1],      // Meditation
                    8: [3, 2, 1, 2, 1]       // Health issues handling
                }
            };

            const personScores = {
                person1: { total: 0, sections: {} },
                person2: { total: 0, sections: {} }
            };

            // Calculate individual health scores
            ['person1', 'person2'].forEach(person => {
                for (let section in quizData) {
                    let sectionScore = 0;
                    let maxSectionScore = 0;

                    quizData[section].questions.forEach((_, index) => {
                        const selectedAnswers = answers[person][`${section}-${index}`] || [];
                        const questionPoints = pointValues[section][index];
                        
                        // Calculate score for multiple selections
                        let questionScore = 0;
                        selectedAnswers.forEach(answer => {
                            questionScore += questionPoints[answer] || 0;
                        });
                        
                        // Normalize if multiple options selected
                        if (selectedAnswers.length > 0) {
                            questionScore = questionScore / selectedAnswers.length;
                        }
                        
                        sectionScore += questionScore;
                        maxSectionScore += Math.max(...questionPoints);
                    });

                    // Normalize section score to 15 points (60 total possible across 4 sections)
                    const normalizedScore = (sectionScore / maxSectionScore) * 15;
                    personScores[person].sections[section] = normalizedScore;
                    personScores[person].total += normalizedScore;
                }
            });

            // Calculate compatibility based on health scores
            const totalCompatibility = 100 - (Math.abs(personScores.person1.total - personScores.person2.total) / 60) * 100;

            const compatibilityScore = document.querySelector('.compatibility-score');
            compatibilityScore.textContent = `Overall Compatibility: ${Math.round(totalCompatibility)}%`;

            const sectionScoresDiv = document.querySelector('.section-scores');
            sectionScoresDiv.innerHTML = '<h3>Individual Health Scores:</h3>';
            
            ['person1', 'person2'].forEach(person => {
                const totalScore = personScores[person].total;
                let healthLevel = '';
                if (totalScore >= 50) healthLevel = 'Excellent health consciousness';
                else if (totalScore >= 40) healthLevel = 'Good health awareness';
                else if (totalScore >= 30) healthLevel = 'Moderate health awareness';
                else healthLevel = 'Needs improvement in health habits';

                sectionScoresDiv.innerHTML += `
                    <h4>${person === 'person1' ? 'Person 1' : 'Person 2'}</h4>
                    <p>Total Health Score: ${Math.round(totalScore)} - ${healthLevel}</p>
                    ${Object.entries(personScores[person].sections).map(([section, score]) => 
                        `<p>${quizData[section].title}: ${Math.round(score)} points</p>`
                    ).join('')}
                `;
            });

            const analysis = document.querySelector('.compatibility-analysis');
            analysis.innerHTML = getCompatibilityAnalysis(totalCompatibility, personScores);
        }

        function getCompatibilityAnalysis(totalScore, personScores) {
            let analysis = '<h3>Analysis:</h3>';
            
            // Analyze health score differences
            const scoreDiff = Math.abs(personScores.person1.total - personScores.person2.total);
            
            if (totalScore >= 80) {
                analysis += '<p>You show excellent compatibility in health consciousness and lifestyle choices. This alignment suggests shared values in maintaining wellness and healthy habits.</p>';
            } else if (totalScore >= 60) {
                analysis += '<p>You have good compatibility with room for growth. While your health awareness levels differ somewhat, you can learn from and support each other\'s healthy choices.</p>';
            } else if (totalScore >= 40) {
                analysis += '<p>You show moderate compatibility in health consciousness. Your different approaches to health and wellness may require open discussion and mutual understanding.</p>';
            } else {
                analysis += '<p>Your health consciousness levels show significant differences. This presents an opportunity for the more health-conscious partner to positively influence the other\'s habits, with patience and understanding.</p>';
            }

            // Analyze section-specific differences
            Object.entries(quizData).forEach(([section, data]) => {
                const sectionDiff = Math.abs(personScores.person1.sections[section] - personScores.person2.sections[section]);
                if (sectionDiff > 5) {
                    analysis += `<p><strong>Note:</strong> There are notable differences in ${data.title.toLowerCase()}. This area may benefit from discussion and mutual understanding.</p>`;
                }
            });

            return analysis;
        }
    </script>
</body>
</html>
